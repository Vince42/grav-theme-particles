title: Pages
'@extends': default

form:
  fields:
    tabs:
      fields:
        modules:
          type: tab
          title: Modules
          fields:
            # header.class:
            #   type: select
            #   label: Layout
            #   default: small
            #   size: medium
            #   options:
            #     small: Small   = 4 / 3 / 2 columns
            #     standard: Standard  = 3 / 2 / 1 columns

            # .icon:
            #   type: iconpicker
            #   label: Icon

            # header.modules.members:
            #   type: list
            #   label: Items
            #   fields:
            #     .type:
            #       # type: text
            #       # label: Dummy
            #       type: elements
            #       # label: false
            #       # default: children
            #       options:
            #         children: Direct children of
            #         # modules: Modules of
            #         # siblings: Siblings of
            #         taxonomy: Taxonomy matches
            #       fields:
            #         children:
            #           type: element
            #           fields:
            #             # .type:
            #             #   type: text
            #             #   readonly: true
            #             #   # disabled: true
            #             #   label: false
            #             #   default: children
            #             .page:
            #               label: Page
            #               type: pages
            #         taxonomy:
            #           type: element
            #           fields:
            #             .vocabulary:
            #               label: Vocab
            #               type: text
            #             .term:
            #               label: Term
            #               type: text

# Preferred output for `members` would have been:

#   members:
#     -
#       type: children # descendents, siblings, modules
#       page: '/blog' # default self
#     -
#       type: taxonomy
#       vocabulary: category
#       term: Service

# This is necessary because https://github.com/getgrav/grav-plugin-admin/issues/2280
# .. and also because the Elements field type doesn't seem very mature yet, was hoping a list of those would get me over the line

            header.modules.members:
              text: 'Show these items ...'
              type: section
              # underline: true
              fields:
                .children:
                  label: Show direct children of these pages
                  type: pages
                  multiple: true
                  validate:
                    type: array
                  # selectize: true
                .siblings:
                  label: Show any siblings of these pages
                  type: pages
                  multiple: true
                  validate:
                    type: array
                .modules:
                  label: Show any modules of these pages
                  type: pages
                  multiple: true
                  validate:
                    type: array
                .taxonomy:
                  label: Taxonomy matches
                  type: taxonomy
                  multiple: true





            # header.pages.items:
            #   name: items
            #   type: list
            #   label: Items
            #   fields:
            #     .@page.children:
            #       readonly: true
            #       type: pages
            #       label: Parent

            header.modules.limit:
              type: text
              label: Max Item Count
              validate:
                type: int
                min: 1

            header.modules.order.by:
              type: select
              label: Order By
              default: date
              options:
                folder: Folder
                title: Title
                date: Date
                default: Default

            header.modules.order.dir:
              type: select
              label: Order
              default: desc
              options:
                asc: Ascending
                desc: Descending

